<!DOCTYPE html>
<html lang="en">
<head>
  <title>Rico's Personal Webpage</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&family=VT323&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</head>

<body>

<div id="landing-screen">
    <div class="title-content text-center">
        <h1 class="game-title">FOREST TALES</h1>
        <p class="game-subtitle">The Journey of Player 1</p>
        
        <div class="mt-5">
            <button class="rpg-start-btn" onclick="startGame()">
                <i class="fas fa-play me-2"></i> START GAME
            </button>
        </div>
        
        <div class="loading-bar-container mt-5">
            <div class="loading-bar"></div>
        </div>
    </div>
</div>

<audio id="game-start-sound" src="https://assets.mixkit.co/active_storage/sfx/2019/2019-preview.mp3" preload="auto"></audio>
<audio id="level-up-sound" src="data:audio/wav;base64,UklGRjIAAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQYAAABAgICAgICAgICAg" preload="auto"></audio>

<div id="leaf-container"></div>

<div class="header-footer-custom text-center">
  <h1 class="display-4 fw-bold">PLAYER 1</h1>
  <p class="lead mt-2">Level 20 | IT Student | Athlete</p>
</div>

<nav class="navbar navbar-expand-sm sticky-top shadow">
  <div class="container-fluid p-0">
    <ul class="navbar-nav mx-auto"> 
      <li class="nav-item">
        <a class="nav-link active" href="index.html"><i class="fas fa-shield-alt me-2"></i>CHARACTER</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="gallery.html"><i class="fas fa-images me-2"></i>GALLERY</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="history.html"><i class="fas fa-scroll me-2"></i>HISTORY</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="log.html"><i class="fas fa-pen-nib me-2"></i>WORLD LOG</a>
      </li>
    </ul>
  </div>
</nav>

<div class="container mt-5 content-card p-4 p-md-5 mb-5">
  <div class="row g-5"> 
    <div class="col-lg-5 col-md-12">
      <h2 class="mb-4">Character Sheet</h2>
      
      <div class="char-card-container mb-4 mx-auto mx-lg-0" onclick="flipCard(); playLevelUp()" title="Click to Flip!">
        <div class="card-inner" id="cardInner">
          
          <div class="card-front">
            <div class="lvl-badge">20</div>
            <div class="card-img-wrap">
              <img src="https://github.com/ricoalbania/WEBPROG-IT242-HTML-Lessons/blob/feature/rwd/Image%20(5).jpg?raw=true" alt="rico">
            </div>
            <div class="element-icon" title="Tech Element">
              <i class="fas fa-microchip"></i>
            </div>
            <div class="text-center mt-auto">
              <span class="char-name-text">RICO ALBANIA</span>
            </div>
          </div>

          <div class="card-back">
            <h4 class="text-center" style="font-family: 'Press Start 2P'; font-size: 0.8rem;">REAR VIEW</h4>
            <hr class="border-warning">
            <ul class="list-unstyled" style="font-family: 'VT323'; font-size: 1.3rem;">
              <li><i class="fas fa-crown text-warning me-2"></i> Rank: Pioneer</li>
              <li><i class="fas fa-bolt text-info me-2"></i> Style: Agile</li>
              <li><i class="fas fa-heart text-danger me-2"></i> Status: Ready</li>
            </ul>
            <div class="text-center mt-3 opacity-50">
               <i class="fas fa-shield-halved fa-3x"></i>
               <p class="mt-2"><small>AUTHENTIC HERO GEAR</small></p>
            </div>
          </div>

        </div>
      </div>

      <ul class="nav nav-tabs border-0 mb-3 justify-content-center justify-content-lg-start" id="charTab" role="tablist">
        <li class="nav-item"><button class="nav-link active rpg-tab" data-bs-toggle="tab" data-bs-target="#stats" type="button">STATS</button></li>
        <li class="nav-item"><button class="nav-link rpg-tab" data-bs-toggle="tab" data-bs-target="#bio" type="button">LORE</button></li>
        <li class="nav-item"><button class="nav-link rpg-tab" data-bs-toggle="tab" data-bs-target="#details" type="button">INFO</button></li>
      </ul>

      <div class="tab-content stats-box p-3" id="charTabContent">
        <div class="tab-pane fade show active" id="stats">
          <small class="d-block mb-1 text-uppercase fw-bold">HP [Health]</small>
          <div class="progress progress-rpg"><div class="progress-bar hp-bar" style="width: 90%"></div></div>
          <small class="d-block mb-1 text-uppercase fw-bold">MP [Logic]</small>
          <div class="progress progress-rpg"><div class="progress-bar mp-bar" style="width: 75%"></div></div>
          <small class="d-block mb-1 text-uppercase fw-bold">EXP [Studies]</small>
          <div class="progress progress-rpg"><div class="progress-bar exp-bar" style="width: 50%"></div></div>
        </div>
        <div class="tab-pane fade" id="bio">
          <h4 class="fw-bold mb-3" style="color: #f2cc8f;">The Lore</h4>
          <p style="text-align: justify; font-size: 1.1rem;">I am an aspiring IT professional at <b>Asia Pacific College</b>, passionate about solving real-world mysteries through technology.</p>
        </div>
        <div class="tab-pane fade" id="details">
          <h4 class="fw-bold mb-3" style="color: #f2cc8f;">Detailed Specs</h4>
          <ul class="list-unstyled mb-0" style="font-family: 'VT323'; font-size: 1.3rem;">
            <li><span class="text-success">[SCHOOL]:</span> Asia Pacific College</li>
            <li><span class="text-success">[BIRTHDATE]:</span> February 25, 2005</li>
            <li><span class="text-success">[ORIGIN]:</span> Paranaque City</li>
            <li><span class="text-success">[CLASS]:</span> BS Information Technology</li>
          </ul>
        </div>
      </div>
    </div>

    <div class="col-lg-7 col-md-12">
      <h2 class="text-success mb-4">EQUIPMENT SCREEN</h2>
      <div class="equipment-grid mb-5">
        <div class="paper-doll-container">
          <i class="fas fa-code-branch central-silhouette"></i>
          <a href="https://gemini.google.com" target="_blank" class="equip-slot slot-head" data-description="GEMINI: AI Brain."><i class="fas fa-wand-magic-sparkles"></i><span class="slot-label">GEMINI</span></a>
          <a href="https://github.com" target="_blank" class="equip-slot slot-weapon" data-description="GITHUB: The Armory."><i class="fab fa-github"></i><span class="slot-label">GITHUB</span></a>
          <a href="https://www.w3schools.com" target="_blank" class="equip-slot slot-body" data-description="W3SCHOOLS: The Foundation."><i class="fas fa-book"></i><span class="slot-label">W3S</span></a>
          <a href="https://chatgpt.com" target="_blank" class="equip-slot slot-accessory" data-description="CHATGPT: Support Familiar."><i class="fas fa-robot"></i><span class="slot-label">AI</span></a>
          <a href="https://fonts.google.com" target="_blank" class="equip-slot slot-mount" data-description="RESOURCES: Style Engine."><i class="fas fa-palette"></i><span class="slot-label">ASSETS</span></a>
        </div>
      </div>

      <div class="skill-tree-block mt-5">
        <h2 class="text-success mb-4">SKILL TREE</h2>
        
        <div class="battle-arena">
            <div class="stickman hero"><i class="fas fa-walking"></i><div class="sword"></div></div>
            <div class="stickman enemy"><i class="fas fa-walking fa-flip-horizontal"></i><div class="staff"></div></div>
        </div>

        <div class="row g-4 mt-2">
          <div class="col-md-12">
            <p class="mb-2"><i class="fas fa-fire text-danger"></i> FRONTEND SORCERY [HTML/CSS]</p>
            <div class="progress progress-rpg"><div class="progress-bar hp-bar" style="width: 85%"></div></div>
          </div>
          <div class="col-md-12">
            <p class="mb-2"><i class="fas fa-bolt text-warning"></i> BACKEND ALCHEMY [NestJS]</p>
            <div class="progress progress-rpg"><div class="progress-bar exp-bar" style="width: 60%"></div></div>
          </div>
          <div class="col-md-12">
            <p class="mb-2"><i class="fas fa-dumbbell text-info"></i> PHYSICAL ENDURANCE [Athlete]</p>
            <div class="progress progress-rpg"><div class="progress-bar mp-bar" style="width: 80%"></div></div>
          </div>
        </div>
      </div> 
    </div> 
  </div> 
</div>

<div class="header-footer-custom text-center mt-5">
  <p class="mb-0">Â© 2026 PLAYER 1 | Built with Passion & Code</p>
</div>

<script>
function startGame() {
    const startSound = document.getElementById('game-start-sound');
    
    if(startSound) {
        startSound.play().catch(e => console.log("Audio play blocked."));
    }

    // SAVE STATE: Tell the browser we have entered the game
    sessionStorage.setItem('gameStarted', 'true');

    const screen = document.getElementById('landing-screen');
    screen.style.opacity = '0';
    screen.style.pointerEvents = 'none'; 
    
    setTimeout(() => {
        screen.style.display = 'none';
    }, 1000); 
}

function flipCard() {
    const cardInner = document.getElementById('cardInner');
    cardInner.classList.toggle('is-flipped');
}

function playLevelUp() {
    const sound = document.getElementById('level-up-sound');
    const audioContext = new (window.AudioContext || window.webkitAudioContext)();
    
    if (audioContext.state === 'suspended') {
        audioContext.resume();
    }

    sound.pause();
    sound.currentTime = 0;
    sound.play().catch(error => console.log("Playback failed", error));

    const img = document.querySelector('.card-img-wrap img');
    if (img) {
        img.style.filter = "brightness(2) contrast(1.5)";
        setTimeout(() => { img.style.filter = "none"; }, 150);
    }
}

function createLeaf() {
    const container = document.getElementById('leaf-container');
    if(!container) return;
    const leaf = document.createElement('div');
    leaf.className = 'leaf';
    leaf.innerHTML = 'ðŸƒ'; 
    leaf.style.left = Math.random() * 100 + 'vw';
    leaf.style.animationDuration = (Math.random() * 5 + 5) + 's'; 
    container.appendChild(leaf);
    setTimeout(() => { leaf.remove(); }, 10000);
}
setInterval(createLeaf, 800);
// CHECK STATE: On page load, check if the player already clicked start
window.onload = function() {
    if (sessionStorage.getItem('gameStarted') === 'true') {
        const screen = document.getElementById('landing-screen');
        if (screen) {
            screen.style.display = 'none';
        }
    }
};

// Toggle the visibility of the system menu
function toggleMenu() {
    const menu = document.getElementById('system-dropdown');
    menu.classList.toggle('active');
}

// The Log Out function: Clears memory and reloads page
function logout() {
    // 1. Play a click sound
    const clickSound = new Audio('https://assets.mixkit.co/active_storage/sfx/2568/2568-preview.mp3');
    clickSound.play();

    // 2. Clear the "Start" state from browser memory
    sessionStorage.removeItem('gameStarted');

    // 3. Reload the page to show the Title Screen again
    setTimeout(() => {
        window.location.reload();
    }, 300);
}

// Close menu if clicking outside of it
window.onclick = function(event) {
    if (!event.target.matches('.system-btn') && !event.target.closest('.system-dropdown')) {
        const dropdown = document.getElementById('system-dropdown');
        if (dropdown.classList.contains('active')) {
            dropdown.classList.remove('active');
        }
    }
}

// Shows the "Are you sure?" view
function showConfirm() {
    document.getElementById('menu-main-view').style.display = 'none';
    document.getElementById('menu-confirm-view').style.display = 'block';
}

// Goes back to the main system menu
function hideConfirm() {
    document.getElementById('menu-main-view').style.display = 'block';
    document.getElementById('menu-confirm-view').style.display = 'none';
}

// Modified toggleMenu to always reset to the main view when opening/closing
function toggleMenu() {
    const menu = document.getElementById('system-dropdown');
    menu.classList.toggle('active');
    if (!menu.classList.contains('active')) {
        hideConfirm(); // Reset to main view for next time
    }
}

// Update logout to include a "fading" effect for the music
function logout() {
    sessionStorage.removeItem('gameStarted');
    
    // Quick visual feedback
    document.body.style.filter = "brightness(0.2)";
    document.body.style.transition = "filter 0.5s";
    
    setTimeout(() => {
        window.location.reload();
    }, 500);
}

</script>


<div class="system-menu-container">
    <button class="system-btn" onclick="toggleMenu()" title="System Menu">
        <i class="fas fa-cog"></i>
    </button>
    <div id="system-dropdown" class="system-dropdown">
        <div class="menu-header">SYSTEM</div>
        <button onclick="logout()">
            <i class="fas fa-sign-out-alt me-2"></i> RETURN TO TITLE
        </button>
        <button onclick="toggleMenu()">
            <i class="fas fa-times me-2"></i> CLOSE
        </button>
    </div>
</div>

<div class="system-menu-container">
    <button class="system-btn" id="main-system-btn" onclick="toggleMenu()" title="System Menu">
        <i class="fas fa-cog"></i>
    </button>
    
    <div id="system-dropdown" class="system-dropdown">
        <div id="menu-main-view">
            <div class="menu-header">SYSTEM</div>
            <button onclick="showConfirm()">
                <i class="fas fa-sign-out-alt me-2"></i> RETURN TO TITLE
            </button>
            <button onclick="toggleMenu()">
                <i class="fas fa-times me-2"></i> CLOSE
            </button>
        </div>

        <div id="menu-confirm-view" style="display: none;">
            <div class="menu-header text-danger">LOGOUT?</div>
            <p class="VT323Font text-center text-white small">Unsaved progress will be lost.</p>
            <div class="d-flex gap-2">
                <button onclick="logout()" class="border-danger text-danger w-50 text-center">YES</button>
                <button onclick="hideConfirm()" class="w-50 text-center">NO</button>
            </div>
        </div>
    </div>
</div>

</body>
</html>